---
const currentPath = Astro.url.pathname;

// Voci principali dell'app (sempre visibili)
const navItems = [
  {
    href: '/page-pratiche',
    label: 'Le Mie Pratiche',
    icon: `<path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path>`,
  },
  {
    href: '/page-documenti',
    label: 'Documenti',
    icon: `<path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>`,
  },
  {
    href: '/anagrafica-clienti',
    label: 'Clienti',
    icon: `<path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>`,
  }
];
---

<aside class="sidebar">
    <div class="sidebar-header">
        <h2 class="logo">AI Legal Assistant</h2>
    </div>

    <nav>
        <ul class="nav-menu">
            {navItems.map(item => (
                <li>
                    <a href={item.href} class={currentPath === item.href ? 'active' : ''}>
                        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <Fragment set:html={item.icon} />
                        </svg>
                        <span>{item.label}</span>
                    </a>
                </li>
            ))}
        </ul>
    </nav>

    <nav class="nav-bottom">
        <ul class="nav-menu">
            <li>
                <a href="#" id="logout-btn">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </nav>
</aside>
